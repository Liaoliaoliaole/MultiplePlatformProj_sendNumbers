<!DOCTYPE html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>e2102220-LiyuanLiu</title>
<script>   
  function getdata(){
    fetch('http://www.cc.puv.fi/~e2102220/record.txt')
      .then(r => r.text())
      .then(data => displaydata(data))
  };
  function displaydata(d){
    let ctt = document.getElementById("data");
    const can = document.getElementById("chart");
    const ctx = can.getContext('2d');
    ctx.lineWidth = 5;
    var h = can.height;
    var i = 0;
    //ctt.innerHTML = d;
    var lines = d.split("\n");
    while(typeof lines[0] !== "undefined"){
      var lin = lines.shift();
      ctt.innerHTML += lin + "<br/>";
      var sp = lin.split(',');
      ctx.strokeStyle = 'green';
      ctx.beginPath();
      ctx.moveTo(i*20+10,h-10);
      ctx.lineTo(i*20+10,h-10-parseInt(sp[1])*4);
      ctx.stroke();
      ctx.strokeStyle = 'blue';
      ctx.beginPath();
      ctx.moveTo(i*20+15,h-10);
      ctx.lineTo(i*20+15, h-10-parseInt(sp[2])*4);
      ctx.stroke();
      i++;
    }
  }
  </script>
</head>

<body onload="getdata()">
<p id ="data"></p>
<canvas id="chart" height="400" width="1000" style="border: solid 1px green"></canvas>
</body>
</html>